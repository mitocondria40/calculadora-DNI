<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Calculadora de Notas | Nota final ponderada</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <meta name="description" content="Calculadora de notas online para estudiantes de instituto y universidad. Calcula tu nota final ponderada según porcentajes y calificaciones.">
    <meta name="keywords" content="calculadora de notas, calcular nota final, nota ponderada, aprobar examen">

    <script async src="https://www.googletagmanager.com/gtag/js?id=G-Y12CX7WYZ1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-Y12CX7WYZ1');
    </script>
    <style>
        body {
            font-family: Arial, sans-serif;
            background: #f4f6f8;
            margin: 0;
            padding: 0;
        }

        .container {
            max-width: 600px;
            margin: 50px auto;
            background: white;
            padding: 25px;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        h1 {
            text-align: center;
            margin-bottom: 10px;
        }

        p {
            text-align: center;
            color: #555;
            margin-bottom: 25px;
        }

        .row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-bottom: 10px;
        }

        input {
            padding: 10px;
            font-size: 16px;
            border: 1px solid #ccc;
            border-radius: 6px;
        }

        button {
            width: 100%;
            padding: 12px;
            margin-top: 15px;
            font-size: 16px;
            background: #2563eb;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
        }

        button:hover {
            background: #1e4fd6;
        }

        .result {
            margin-top: 20px;
            text-align: center;
            font-size: 18px;
            font-weight: bold;
        }

        .error {
            color: #d00000;
        }

        .success {
            color: #0f8a3d;
        }

        .footer {
            margin-top: 15px;
            text-align: center;
            font-size: 13px;
            color: #777;
        }
    </style>
</head>
<body>

<div class="container">
    <h1>Calculadora de Notas</h1>
    <p>Introduce los porcentajes y las notas obtenidas</p>

    <div class="row">
        <input type="number" placeholder="% Actividades" id="p1">
        <input type="number" placeholder="Nota" id="n1">
    </div>

    <div class="row">
        <input type="number" placeholder="% Examen 1" id="p2">
        <input type="number" placeholder="Nota" id="n2">
    </div>

    <div class="row">
        <input type="number" placeholder="% Examen 2" id="p3">
        <input type="number" placeholder="Nota" id="n3">
    </div>

    <div class="row">
        <input type="number" placeholder="% Trabajo / Prácticas" id="p4">
        <input type="number" placeholder="Nota" id="n4">
    </div>

    <div class="row">
        <input type="number" placeholder="% Otro" id="p5">
        <input type="number" placeholder="Nota" id="n5">
    </div>

    <button onclick="calcular()">Calcular nota final</button>

    <div id="resultado" class="result"></div>

    <div class="footer">
        La suma de los porcentajes debe ser 100%
    </div>
</div>

<script>
function calcular() {
    let porcentajes = [
        Number(p1.value) || 0,
        Number(p2.value) || 0,
        Number(p3.value) || 0,
        Number(p4.value) || 0,
        Number(p5.value) || 0
    ];

    let notas = [
        Number(n1.value) || 0,
        Number(n2.value) || 0,
        Number(n3.value) || 0,
        Number(n4.value) || 0,
        Number(n5.value) || 0
    ];

    let sumaPorcentajes = porcentajes.reduce((a, b) => a + b, 0);

    if (sumaPorcentajes !== 100) {
        resultado.innerHTML = `<span class="error">❌ Los porcentajes suman ${sumaPorcentajes}%. Deben sumar 100%.</span>`;
        return;
    }

    let notaFinal = 0;

    for (let i = 0; i < porcentajes.length; i++) {
        notaFinal += (porcentajes[i] / 100) * notas[i];
    }

    notaFinal = notaFinal.toFixed(2);

    /* Evento Google Analytics: 
       Esto enviará un aviso cada vez que alguien calcule una nota.
       Usa automáticamente el ID configurado arriba (G-Y12CX7WYZ1). */
    if (typeof gtag === 'function') {
        gtag('event', 'calcular_nota', {
            event_category: 'interaccion',
            event_label: 'boton_calcular'
        });
    }

    if (notaFinal >= 5) {
        resultado.innerHTML = `<span class="success">✅ Nota final: ${notaFinal} — APROBADO</span>`;
    } else {
        resultado.innerHTML = `<span class="error">❌ Nota final: ${notaFinal} — SUSPENSO</span>`;
    }
}
</script>

</body>
</html>
